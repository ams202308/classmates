<!DOCTYPE html>
<html lang="ru">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Одноклассники</title>
    <style>
        /* Контейнер для виньетки и подсвеченных фото */
        .container {
            position: relative;
            width: 100%;
            height: auto;
        }

        /* Общее фото - виньетка */
        .classmates {
            width: 100%;
            height: auto;
        }

        /* Подсветка фото на виньетке - признак наличия всплывающего фото и описания */
        .backlight {
            position: absolute;
            /* border: 1px solid red; */
            background-color: rgba(246, 246, 52, 0.1);
        }

        /* Всплывающее окно (фото + описание) */
        .popup-info {
            display: none;
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background-color: white;
            padding: 20px;
            border-radius: 10px;
            box-shadow: 0 0 10px rgba(0, 0, 0, .3);
            z-index: 1000;
        }

        /* Всплывающее фото */
        .popup-image {
            max-width: 50vmin;
            max-height: 50vmin;
            object-fit: contain;
        }

        /* Крестик для закрытия */
        .popup-close {
            float: right;
            cursor: pointer;
            font-weight: bold;
        }
    </style>
</head>

<body>

    <div class="popup-info" id="popup-info">
        <span class="popup-close" onclick="hidePopup()">×</span>
        <img class="popup-image" src="" alt="">
        <p></p>
    </div>

    <div class="container">
        <img class="classmates" src="./img/classmates.webp" alt="Image" />

        <div class="backlight" id="arykov-malik.webp" style="top: 64%; left: 79%; width: 8%; height: 14%;"
            data-text="Малик Арыков. Калуга-2015">
        </div>
    </div>

    <script>
        // Ко всем элементам с классом backlight (признак наличия фото)
        // добавляем обработчик события 'click'
        let containers = document.querySelectorAll('.backlight');
        containers.forEach(container => {
            container.addEventListener('click', () => {
                showPopup(container);
            });
        });

        function showPopup(divElement) {
            let imageSrc = './img/' + divElement.id || '';  // имя изображения берем из ID
            let popupText = divElement.dataset.text || ''; // описание фото - из data-text

            // устанавливаем полученные значения в соответствующее место
            let popupInfo = document.getElementById('popup-info');
            let imgElement = popupInfo.querySelector('img');
            let textElement = popupInfo.querySelector('p');

            imgElement.src = imageSrc;
            textElement.innerText = popupText;

            // показываем всплывающее окно
            popupInfo.style.display = 'block';
        }

        function hidePopup() {
            // скрываем всплывающее окно
            let popupInfo = document.getElementById('popup-info');
            popupInfo.style.display = 'none';
        }
    </script>

</body>

</html>